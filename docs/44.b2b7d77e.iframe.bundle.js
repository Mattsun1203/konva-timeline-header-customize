(self.webpackChunk_melfore_konva_timeline=self.webpackChunk_melfore_konva_timeline||[]).push([[44],{"./src/tasks/components/Tooltip/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return components_Tooltip}});var react=__webpack_require__("./node_modules/react/index.js"),ReactKonva=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),client=__webpack_require__("./node_modules/react-dom/client.js"),dist=__webpack_require__("./node_modules/its-fine/dist/index.js"),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const Html=({children:children,groupProps:groupProps,divProps:divProps,transform:transform,transformFunc:transformFunc})=>{const Bridge=(0,dist.yo)(),groupRef=react.useRef(null),[div]=(react.useRef(),react.useState((()=>document.createElement("div")))),root=react.useMemo((()=>client.createRoot(div)),[div]),shouldTransform=null==transform||transform,handleTransform=function useEvent(fn=(()=>{})){const ref=react.useRef(fn);return ref.current=fn,react.useCallback(((...args)=>ref.current.apply(null,args)),[])}((()=>{if(shouldTransform&&groupRef.current){let attrs=groupRef.current.getAbsoluteTransform().decompose();transformFunc&&(attrs=transformFunc(attrs)),div.style.position="absolute",div.style.zIndex="10",div.style.top="0px",div.style.left="0px",div.style.transform=`translate(${attrs.x}px, ${attrs.y}px) rotate(${attrs.rotation}deg) scaleX(${attrs.scaleX}) scaleY(${attrs.scaleY})`,div.style.transformOrigin="top left"}else div.style.position="",div.style.zIndex="",div.style.top="",div.style.left="",div.style.transform="",div.style.transformOrigin="";const _a=divProps||{},{style:style}=_a,restProps=__rest(_a,["style"]);Object.assign(div.style,style),Object.assign(div,restProps)}));return react.useLayoutEffect((()=>{var _a;const group=groupRef.current;if(!group)return;const parent=null===(_a=group.getStage())||void 0===_a?void 0:_a.container();return parent?(parent.appendChild(div),shouldTransform&&(el=>{const pos=window.getComputedStyle(el).position;return!("absolute"===pos||"relative"===pos)})(parent)&&(parent.style.position="relative"),group.on("absoluteTransformChange",handleTransform),handleTransform(),()=>{var _a;group.off("absoluteTransformChange",handleTransform),null===(_a=div.parentNode)||void 0===_a||_a.removeChild(div)}):void 0}),[shouldTransform]),react.useLayoutEffect((()=>{handleTransform()}),[divProps,transformFunc]),react.useLayoutEffect((()=>{root.render(react.createElement(Bridge,null,children))})),react.useLayoutEffect((()=>()=>{setTimeout((()=>{root.unmount()}))}),[]),react.createElement(ReactKonva.WM,Object.assign({ref:groupRef},groupProps))};__webpack_require__("./node_modules/use-image/index.js");var luxon=__webpack_require__("./node_modules/luxon/src/luxon.js"),TimelineContext=__webpack_require__("./src/timeline/TimelineContext.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function cov_1pyy2oe77e(){var path="/home/runner/work/konva-timeline/konva-timeline/src/tasks/components/Tooltip/DefaultToolTip/index.tsx",global=new Function("return this")(),gcv="__coverage__",coverage=global[gcv]||(global[gcv]={});coverage[path]&&"774acf2ff0a013da770db2722d459b5e24c939a0"===coverage[path].hash||(coverage[path]={path:"/home/runner/work/konva-timeline/konva-timeline/src/tasks/components/Tooltip/DefaultToolTip/index.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:110,column:1}},1:{start:{line:13,column:2},end:{line:109,column:5}},2:{start:{line:111,column:0},end:{line:111,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:23},end:{line:4,column:24}},loc:{start:{line:12,column:6},end:{line:110,column:1}},line:12}},branchMap:{0:{loc:{start:{line:89,column:37},end:{line:108,column:6}},type:"binary-expr",locations:[{start:{line:89,column:37},end:{line:89,column:56}},{start:{line:89,column:73},end:{line:108,column:6}}],line:89}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,names:["React","jsx","_jsx","jsxs","_jsxs","DefaultToolTip","localized","startDuration","endDuration","duration","completedPercentage","percentage","label","style","backgroundColor","border","borderColor","borderWidth","padding","boxShadow","maxWidth","overflow","textOverflow","children","fontFamily","fontSize","fontWeight","display","alignItems","start","end","time","unit","completed","displayName"],sources:["/home/runner/work/konva-timeline/konva-timeline/src/tasks/components/Tooltip/DefaultToolTip/index.tsx"],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"774acf2ff0a013da770db2722d459b5e24c939a0"});var actualCoverage=coverage[path];return cov_1pyy2oe77e=function(){return actualCoverage},actualCoverage}cov_1pyy2oe77e(),cov_1pyy2oe77e().s[0]++;const DefaultToolTip=({localized:localized,startDuration:startDuration,endDuration:endDuration,duration:duration,completedPercentage:completedPercentage,percentage:percentage,label:label})=>(cov_1pyy2oe77e().f[0]++,cov_1pyy2oe77e().s[1]++,(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:"white",border:"ridge",borderColor:"black",borderWidth:"1px",padding:8,boxShadow:"2px 2px 8px black",maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"},children:[(0,jsx_runtime.jsx)("b",{style:{fontFamily:"Times New Roman",fontSize:16,fontWeight:700},children:label}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[(0,jsx_runtime.jsxs)("b",{style:{fontSize:14,fontFamily:"Times New Roman",fontWeight:700},children:[localized.start,": "]}),"   ",(0,jsx_runtime.jsx)("span",{style:{fontFamily:"Courier New",fontSize:13},children:startDuration})]}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[(0,jsx_runtime.jsxs)("b",{style:{fontSize:14,fontFamily:"Times New Roman",fontWeight:700},children:[localized.end,": "]}),"   ",(0,jsx_runtime.jsx)("span",{style:{fontFamily:"Courier New",fontSize:13},children:endDuration})]}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[(0,jsx_runtime.jsxs)("b",{style:{fontFamily:"Times New Roman",fontSize:14,fontWeight:700},children:[localized.duration,": "]}),"   ",(0,jsx_runtime.jsxs)("span",{style:{fontFamily:"Courier New",fontSize:13},children:[duration.time," ",duration.unit,"(s)"]})]}),(0,jsx_runtime.jsx)("br",{}),(cov_1pyy2oe77e().b[0][0]++,completedPercentage&&(cov_1pyy2oe77e().b[0][1]++,(0,jsx_runtime.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[(0,jsx_runtime.jsxs)("b",{style:{fontFamily:"Times New Roman",fontSize:14,fontWeight:700},children:[localized.completed,": "]}),"   ",(0,jsx_runtime.jsx)("span",{style:{fontFamily:"Courier New",fontSize:13},children:percentage})]})))]}));cov_1pyy2oe77e().s[2]++,DefaultToolTip.displayName="DefaultToolTip";var Tooltip_DefaultToolTip=DefaultToolTip;try{DefaultToolTip.displayName="DefaultToolTip",DefaultToolTip.__docgenInfo={description:"",displayName:"DefaultToolTip",props:{localized:{defaultValue:null,description:"",name:"localized",required:!0,type:{name:"Localized"}},startDuration:{defaultValue:null,description:"",name:"startDuration",required:!0,type:{name:"string"}},endDuration:{defaultValue:null,description:"",name:"endDuration",required:!0,type:{name:"string"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"{ time: number; unit: string; }"}},completedPercentage:{defaultValue:null,description:"",name:"completedPercentage",required:!1,type:{name:"number"}},percentage:{defaultValue:null,description:"",name:"percentage",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/tasks/components/Tooltip/DefaultToolTip/index.tsx#DefaultToolTip"]={docgenInfo:DefaultToolTip.__docgenInfo,name:"DefaultToolTip",path:"src/tasks/components/Tooltip/DefaultToolTip/index.tsx#DefaultToolTip"})}catch(__react_docgen_typescript_loader_error){}function cov_2fcno329eq(){var path="/home/runner/work/konva-timeline/konva-timeline/src/tasks/components/Tooltip/index.tsx",global=new Function("return this")(),gcv="__coverage__",coverageData={path:"/home/runner/work/konva-timeline/konva-timeline/src/tasks/components/Tooltip/index.tsx",statementMap:{0:{start:{line:8,column:27},end:{line:8,column:31}},1:{start:{line:9,column:30},end:{line:9,column:32}},2:{start:{line:10,column:22},end:{line:10,column:24}},3:{start:{line:11,column:26},end:{line:11,column:34}},4:{start:{line:12,column:23},end:{line:12,column:32}},5:{start:{line:16,column:20},end:{line:146,column:1}},6:{start:{line:28,column:6},end:{line:28,column:26}},7:{start:{line:37,column:6},end:{line:37,column:10}},8:{start:{line:38,column:24},end:{line:40,column:13}},9:{start:{line:39,column:4},end:{line:39,column:78}},10:{start:{line:41,column:22},end:{line:43,column:11}},11:{start:{line:42,column:4},end:{line:42,column:76}},12:{start:{line:44,column:21},end:{line:46,column:27}},13:{start:{line:45,column:4},end:{line:45,column:37}},14:{start:{line:47,column:19},end:{line:74,column:18}},15:{start:{line:48,column:17},end:{line:48,column:44}},16:{start:{line:49,column:4},end:{line:57,column:5}},17:{start:{line:50,column:18},end:{line:52,column:21}},18:{start:{line:53,column:6},end:{line:56,column:8}},19:{start:{line:58,column:4},end:{line:66,column:5}},20:{start:{line:59,column:19},end:{line:61,column:19}},21:{start:{line:62,column:6},end:{line:65,column:8}},22:{start:{line:67,column:16},end:{line:69,column:16}},23:{start:{line:70,column:4},end:{line:73,column:6}},24:{start:{line:75,column:24},end:{line:110,column:41}},25:{start:{line:76,column:4},end:{line:87,column:5}},26:{start:{line:77,column:6},end:{line:82,column:7}},27:{start:{line:78,column:8},end:{line:81,column:10}},28:{start:{line:83,column:6},end:{line:86,column:8}},29:{start:{line:88,column:4},end:{line:99,column:5}},30:{start:{line:89,column:6},end:{line:94,column:7}},31:{start:{line:90,column:8},end:{line:93,column:10}},32:{start:{line:95,column:6},end:{line:98,column:8}},33:{start:{line:100,column:4},end:{line:105,column:5}},34:{start:{line:101,column:6},end:{line:104,column:8}},35:{start:{line:106,column:4},end:{line:109,column:6}},36:{start:{line:111,column:28},end:{line:117,column:40}},37:{start:{line:112,column:4},end:{line:116,column:6}},38:{start:{line:118,column:18},end:{line:137,column:129}},39:{start:{line:119,column:4},end:{line:136,column:7}},40:{start:{line:138,column:2},end:{line:145,column:5}},41:{start:{line:147,column:0},end:{line:147,column:40}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:20},end:{line:16,column:21}},loc:{start:{line:20,column:6},end:{line:146,column:1}},line:20},1:{name:"(anonymous_1)",decl:{start:{line:38,column:32},end:{line:38,column:33}},loc:{start:{line:38,column:38},end:{line:40,column:3}},line:38},2:{name:"(anonymous_2)",decl:{start:{line:41,column:30},end:{line:41,column:31}},loc:{start:{line:41,column:36},end:{line:43,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:44,column:29},end:{line:44,column:30}},loc:{start:{line:44,column:35},end:{line:46,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:47,column:27},end:{line:47,column:28}},loc:{start:{line:47,column:33},end:{line:74,column:3}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:75,column:32},end:{line:75,column:33}},loc:{start:{line:75,column:38},end:{line:110,column:3}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:111,column:36},end:{line:111,column:37}},loc:{start:{line:111,column:42},end:{line:117,column:3}},line:111},7:{name:"(anonymous_7)",decl:{start:{line:118,column:26},end:{line:118,column:27}},loc:{start:{line:118,column:32},end:{line:137,column:3}},line:118}},branchMap:{0:{loc:{start:{line:49,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},1:{loc:{start:{line:58,column:4},end:{line:66,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:66,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},2:{loc:{start:{line:76,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:87,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76},3:{loc:{start:{line:77,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:82,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:88,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:99,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},5:{loc:{start:{line:89,column:6},end:{line:94,column:7}},type:"if",locations:[{start:{line:89,column:6},end:{line:94,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:89},6:{loc:{start:{line:100,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:100,column:4},end:{line:105,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},7:{loc:{start:{line:119,column:11},end:{line:136,column:6}},type:"cond-expr",locations:[{start:{line:119,column:41},end:{line:127,column:6}},{start:{line:127,column:22},end:{line:136,column:6}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,names:["React","useMemo","Label","Html","DateTime","Duration","useTimelineContext","DefaultToolTip","jsx","_jsx","rightMarginOffsetX","standardMarginOffsetX","marginOffsetY","sevenHourinMillis","twoDayinMillis","TaskTooltip","task","x","y","drawRange","end","drawEnd","resources","localized","customToolTip","label","completedPercentage","time","start","resourceId","startDuration","fromMillis","Number","toFormat","endDuration","percentage","duration","part","min","fromObject","as","Math","round","unit","hour","day","offsetToolTip","id","length","customToolTipData","toolTip","style","minWidth","maxWidth","minHeight","maxHeight","overflow","children","opacity","displayName"],sources:["/home/runner/work/konva-timeline/konva-timeline/src/tasks/components/Tooltip/index.tsx"],mappings:"AAAA,OAAOA,KAAK,IAAQC,OAAO,QAAQ,OAAO;AAC1C,SAASC,KAAK,QAAQ,aAAa;AACnC,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,OAAO;AAE1C,SAASC,kBAAkB,QAAQ,mCAAmC;AAItE,OAAOC,cAAc,MAAM,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAK9C,MAAMC,kBAAkB,GAAG,CAAC,GAAG;AAC/B,MAAMC,qBAAqB,GAAG,EAAE;AAChC,MAAMC,aAAa,GAAG,EAAE;AACxB,MAAMC,iBAAiB,GAAG,QAAQ;AAClC,MAAMC,cAAc,GAAG,SAAS;AAChC;AACA;AACA;AACA,MAAMC,WAAiC,GAAGA,CAAC;EAAEC,IAAI;EAAEC,CAAC;EAAEC;AAAE,CAAC,KAAK;EAC5D,MAAM;IACJC,SAAS,EAAE;MAAEC,GAAG,EAAEC;IAAQ,CAAC;IAC3BC,SAAS;IACTC,SAAS;IACTC;EACF,CAAC,GAAGlB,kBAAkB,CAAC,CAAC;EAExB,MAAM;IACJmB,KAAK;IACLC,mBAAmB;IACnBC,IAAI,EAAE;MAAEC,KAAK;MAAER;IAAI,CAAC;IACpBS;EACF,CAAC,GAAGb,IAAI;EACR,MAAMc,aAAa,GAAG7B,OAAO,CAAC,MAAM;IAClC,OAAOG,QAAQ,CAAC2B,UAAU,CAACC,MAAM,CAACJ,KAAK,CAAC,CAAC,CAACK,QAAQ,CAAC,qBAAqB,CAAC;EAC3E,CAAC,EAAE,CAACL,KAAK,CAAC,CAAC;EACX,MAAMM,WAAW,GAAGjC,OAAO,CAAC,MAAM;IAChC,OAAOG,QAAQ,CAAC2B,UAAU,CAACC,MAAM,CAACZ,GAAG,CAAC,CAAC,CAACa,QAAQ,CAAC,qBAAqB,CAAC;EACzE,CAAC,EAAE,CAACb,GAAG,CAAC,CAAC;EACT,MAAMe,UAAU,GAAGlC,OAAO,CAAC,MAAM;IAC/B,OAAOyB,mBAAmB,GAAG,GAAG;EAClC,CAAC,EAAE,CAACA,mBAAmB,CAAC,CAAC;EAEzB,MAAMU,QAAQ,GAAGnC,OAAO,CAAC,MAAM;IAC7B,MAAMoC,IAAI,GAAGL,MAAM,CAACZ,GAAG,CAAC,GAAGY,MAAM,CAACJ,KAAK,CAAC;IACxC,IAAIS,IAAI,GAAGxB,iBAAiB,EAAE;MAC5B,MAAMyB,GAAG,GAAGjC,QAAQ,CAACkC,UAAU,CAAC;QAAE,CAAC,aAAa,GAAGF;MAAK,CAAC,CAAC,CAACG,EAAE,CAAC,QAAQ,CAAC;MACvE,OAAO;QAAEb,IAAI,EAAEc,IAAI,CAACC,KAAK,CAACJ,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE;QAAEK,IAAI,EAAE;MAAM,CAAC;IACzD;IACA,IAAIN,IAAI,GAAGvB,cAAc,EAAE;MACzB,MAAM8B,IAAI,GAAGvC,QAAQ,CAACkC,UAAU,CAAC;QAAE,CAAC,aAAa,GAAGF;MAAK,CAAC,CAAC,CAACG,EAAE,CAAC,MAAM,CAAC;MACtE,OAAO;QAAEb,IAAI,EAAEc,IAAI,CAACC,KAAK,CAACE,IAAI,GAAG,EAAE,CAAC,GAAG,EAAE;QAAED,IAAI,EAAE;MAAO,CAAC;IAC3D;IACA,MAAME,GAAG,GAAGxC,QAAQ,CAACkC,UAAU,CAAC;MAAE,CAAC,aAAa,GAAGF;IAAK,CAAC,CAAC,CAACG,EAAE,CAAC,KAAK,CAAC;IACpE,OAAO;MAAEb,IAAI,EAAEc,IAAI,CAACC,KAAK,CAACG,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE;MAAEF,IAAI,EAAE;IAAM,CAAC;EACzD,CAAC,EAAE,CAACf,KAAK,EAAER,GAAG,CAAC,CAAC;EAEhB,MAAM0B,aAAa,GAAG7C,OAAO,CAAC,MAAM;IAClC,IAAI4B,UAAU,KAAKP,SAAS,CAAC,CAAC,CAAC,CAACyB,EAAE,EAAE;MAClC,IAAI9B,CAAC,GAAGI,OAAO,GAAGX,kBAAkB,EAAE;QACpC,OAAO;UAAEO,CAAC,EAAEP,kBAAkB;UAAEQ,CAAC,EAAEN;QAAc,CAAC;MACpD;MACA,OAAO;QAAEK,CAAC,EAAEN,qBAAqB;QAAEO,CAAC,EAAEN;MAAc,CAAC;IACvD;IAEA,IAAIiB,UAAU,KAAKP,SAAS,CAACA,SAAS,CAAC0B,MAAM,GAAG,CAAC,CAAC,CAACD,EAAE,EAAE;MACrD,IAAI9B,CAAC,GAAGI,OAAO,GAAGX,kBAAkB,EAAE;QACpC,OAAO;UAAEO,CAAC,EAAEP,kBAAkB;UAAEQ,CAAC,EAAEN,aAAa,GAAG;QAAE,CAAC;MACxD;MACA,OAAO;QAAEK,CAAC,EAAEN,qBAAqB;QAAEO,CAAC,EAAEN,aAAa,GAAG;MAAE,CAAC;IAC3D;IAEA,IAAIK,CAAC,GAAGI,OAAO,GAAGX,kBAAkB,EAAE;MACpC,OAAO;QAAEO,CAAC,EAAEP,kBAAkB;QAAEQ,CAAC,EAAEN,aAAa,GAAG;MAAE,CAAC;IACxD;IACA,OAAO;MAAEK,CAAC,EAAEN,qBAAqB;MAAEO,CAAC,EAAEN,aAAa,GAAG;IAAE,CAAC;EAC3D,CAAC,EAAE,CAACS,OAAO,EAAEQ,UAAU,EAAEZ,CAAC,EAAEK,SAAS,CAAC,CAAC;EAEvC,MAAM2B,iBAAiB,GAAGhD,OAAO,CAAC,MAAM;IACtC,OAAO;MAAE,GAAGe,IAAI;MAAEY,KAAK,EAAEE,aAAa;MAAEV,GAAG,EAAEc;IAAY,CAAC;EAC5D,CAAC,EAAE,CAAClB,IAAI,EAAEc,aAAa,EAAEI,WAAW,CAAC,CAAC;EAEtC,MAAMgB,OAAO,GAAGjD,OAAO,CAAC,MAAM;IAC5B,OAAO,CAACuB,aAAa,gBACnBf,IAAA,CAACF,cAAc;MACb6B,QAAQ,EAAEA,QAAS;MACnBF,WAAW,EAAEA,WAAY;MACzBJ,aAAa,EAAEA,aAAc;MAC7BL,KAAK,EAAEA,KAAM;MACbF,SAAS,EAAEA,SAAU;MACrBY,UAAU,EAAEA,UAAW;MACvBT,mBAAmB,EAAEA;IAAoB,CAC1C,CAAC,gBAEFjB,IAAA;MAAK0C,KAAK,EAAE;QAAEC,QAAQ,EAAE,GAAG;QAAEC,QAAQ,EAAE,GAAG;QAAEC,SAAS,EAAE,EAAE;QAAEC,SAAS,EAAE,GAAG;QAAEC,QAAQ,EAAE;MAAS,CAAE;MAAAC,QAAA,EAC7FjC,aAAa,CAACyB,iBAAiB;IAAC,CAC9B,CACN;EACH,CAAC,EAAE,CACDvB,mBAAmB,EACnBU,QAAQ,EACRF,WAAW,EACXT,KAAK,EACLF,SAAS,EACTO,aAAa,EACbK,UAAU,EACVX,aAAa,EACbyB,iBAAiB,CAClB,CAAC;EAEF,oBACExC,IAAA,CAACP,KAAK;IAACe,CAAC,EAAEA,CAAC,GAAG6B,aAAa,CAAC7B,CAAE;IAACC,CAAC,EAAEA,CAAC,GAAG4B,aAAa,CAAC5B,CAAE;IAACwC,OAAO,EAAE,CAAE;IAAAD,QAAA,eAChEhD,IAAA,CAACN,IAAI;MAAAsD,QAAA,EAAEP;IAAO,CAAO;EAAC,CACjB,CAAC;AAEZ,CAAC;AAhGKnC,WAAiC,CAAA4C,WAAA;AAkGvC,eAAe5C,WAAW"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"25819de95adb0d22f5b11eceea1876275d72377f"},coverage=global[gcv]||(global[gcv]={});coverage[path]&&"25819de95adb0d22f5b11eceea1876275d72377f"===coverage[path].hash||(coverage[path]=coverageData);var actualCoverage=coverage[path];return cov_2fcno329eq=function(){return actualCoverage},actualCoverage}cov_2fcno329eq();const rightMarginOffsetX=(cov_2fcno329eq().s[0]++,-230),standardMarginOffsetX=(cov_2fcno329eq().s[1]++,15),marginOffsetY=(cov_2fcno329eq().s[2]++,25),sevenHourinMillis=(cov_2fcno329eq().s[3]++,252e5),twoDayinMillis=(cov_2fcno329eq().s[4]++,1728e5);cov_2fcno329eq().s[5]++;const TaskTooltip=({task:task,x:x,y:y})=>{cov_2fcno329eq().f[0]++;const{drawRange:{end:drawEnd},resources:resources,localized:localized,customToolTip:customToolTip}=(cov_2fcno329eq().s[6]++,(0,TimelineContext.Y)()),{label:label,completedPercentage:completedPercentage,time:{start:start,end:end},resourceId:resourceId}=(cov_2fcno329eq().s[7]++,task),startDuration=(cov_2fcno329eq().s[8]++,(0,react.useMemo)((()=>(cov_2fcno329eq().f[1]++,cov_2fcno329eq().s[9]++,luxon.CS.fromMillis(Number(start)).toFormat("dd/MM/yyyy HH:mm:ss"))),[start])),endDuration=(cov_2fcno329eq().s[10]++,(0,react.useMemo)((()=>(cov_2fcno329eq().f[2]++,cov_2fcno329eq().s[11]++,luxon.CS.fromMillis(Number(end)).toFormat("dd/MM/yyyy HH:mm:ss"))),[end])),percentage=(cov_2fcno329eq().s[12]++,(0,react.useMemo)((()=>(cov_2fcno329eq().f[3]++,cov_2fcno329eq().s[13]++,completedPercentage+"%")),[completedPercentage])),duration=(cov_2fcno329eq().s[14]++,(0,react.useMemo)((()=>{cov_2fcno329eq().f[4]++;const part=(cov_2fcno329eq().s[15]++,Number(end)-Number(start));if(cov_2fcno329eq().s[16]++,part<sevenHourinMillis){cov_2fcno329eq().b[0][0]++;const min=(cov_2fcno329eq().s[17]++,luxon._s.fromObject({millisecond:part}).as("minute"));return cov_2fcno329eq().s[18]++,{time:Math.round(10*min)/10,unit:"min"}}if(cov_2fcno329eq().b[0][1]++,cov_2fcno329eq().s[19]++,part<twoDayinMillis){cov_2fcno329eq().b[1][0]++;const hour=(cov_2fcno329eq().s[20]++,luxon._s.fromObject({millisecond:part}).as("hour"));return cov_2fcno329eq().s[21]++,{time:Math.round(10*hour)/10,unit:"hour"}}cov_2fcno329eq().b[1][1]++;const day=(cov_2fcno329eq().s[22]++,luxon._s.fromObject({millisecond:part}).as("day"));return cov_2fcno329eq().s[23]++,{time:Math.round(10*day)/10,unit:"Day"}}),[start,end])),offsetToolTip=(cov_2fcno329eq().s[24]++,(0,react.useMemo)((()=>(cov_2fcno329eq().f[5]++,cov_2fcno329eq().s[25]++,resourceId===resources[1].id?(cov_2fcno329eq().b[2][0]++,cov_2fcno329eq().s[26]++,x>drawEnd+rightMarginOffsetX?(cov_2fcno329eq().b[3][0]++,cov_2fcno329eq().s[27]++,{x:rightMarginOffsetX,y:marginOffsetY}):(cov_2fcno329eq().b[3][1]++,cov_2fcno329eq().s[28]++,{x:standardMarginOffsetX,y:marginOffsetY})):(cov_2fcno329eq().b[2][1]++,cov_2fcno329eq().s[29]++,resourceId===resources[resources.length-1].id?(cov_2fcno329eq().b[4][0]++,cov_2fcno329eq().s[30]++,x>drawEnd+rightMarginOffsetX?(cov_2fcno329eq().b[5][0]++,cov_2fcno329eq().s[31]++,{x:rightMarginOffsetX,y:4*marginOffsetY}):(cov_2fcno329eq().b[5][1]++,cov_2fcno329eq().s[32]++,{x:standardMarginOffsetX,y:4*marginOffsetY})):(cov_2fcno329eq().b[4][1]++,cov_2fcno329eq().s[33]++,x>drawEnd+rightMarginOffsetX?(cov_2fcno329eq().b[6][0]++,cov_2fcno329eq().s[34]++,{x:rightMarginOffsetX,y:2*marginOffsetY}):(cov_2fcno329eq().b[6][1]++,cov_2fcno329eq().s[35]++,{x:standardMarginOffsetX,y:2*marginOffsetY}))))),[drawEnd,resourceId,x,resources])),customToolTipData=(cov_2fcno329eq().s[36]++,(0,react.useMemo)((()=>(cov_2fcno329eq().f[6]++,cov_2fcno329eq().s[37]++,{...task,start:startDuration,end:endDuration})),[task,startDuration,endDuration])),toolTip=(cov_2fcno329eq().s[38]++,(0,react.useMemo)((()=>(cov_2fcno329eq().f[7]++,cov_2fcno329eq().s[39]++,customToolTip?(cov_2fcno329eq().b[7][1]++,(0,jsx_runtime.jsx)("div",{style:{minWidth:190,maxWidth:201,minHeight:90,maxHeight:101,overflow:"hidden"},children:customToolTip(customToolTipData)})):(cov_2fcno329eq().b[7][0]++,(0,jsx_runtime.jsx)(Tooltip_DefaultToolTip,{duration:duration,endDuration:endDuration,startDuration:startDuration,label:label,localized:localized,percentage:percentage,completedPercentage:completedPercentage})))),[completedPercentage,duration,endDuration,label,localized,startDuration,percentage,customToolTip,customToolTipData]));return cov_2fcno329eq().s[40]++,(0,jsx_runtime.jsx)(ReactKonva.iM,{x:x+offsetToolTip.x,y:y-offsetToolTip.y,opacity:1,children:(0,jsx_runtime.jsx)(Html,{children:toolTip})})};cov_2fcno329eq().s[41]++,TaskTooltip.displayName="TaskTooltip";var components_Tooltip=TaskTooltip;try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"This component renders a task tooltip inside a canvas.",displayName:"Tooltip",props:{task:{defaultValue:null,description:"",name:"task",required:!0,type:{name:"TaskData<TimeRange>"}},x:{defaultValue:null,description:"The x coordinate of a point on canvas",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"The y coordinate of a point on canvas",name:"y",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/tasks/components/Tooltip/index.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"src/tasks/components/Tooltip/index.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/use-image/index.js":function(module,__unused_webpack_exports,__webpack_require__){var React=__webpack_require__("./node_modules/react/index.js");module.exports=function useImage(url,crossOrigin,referrerpolicy){const statusRef=React.useRef("loading"),imageRef=React.useRef(),[_,setStateToken]=React.useState(0),oldUrl=React.useRef(),oldCrossOrigin=React.useRef(),oldReferrerPolicy=React.useRef();return oldUrl.current===url&&oldCrossOrigin.current===crossOrigin&&oldReferrerPolicy.current===referrerpolicy||(statusRef.current="loading",imageRef.current=void 0,oldUrl.current=url,oldCrossOrigin.current=crossOrigin,oldReferrerPolicy.current=referrerpolicy),React.useLayoutEffect((function(){if(url){var img=document.createElement("img");return img.addEventListener("load",onload),img.addEventListener("error",onerror),crossOrigin&&(img.crossOrigin=crossOrigin),referrerpolicy&&(img.referrerPolicy=referrerpolicy),img.src=url,function cleanup(){img.removeEventListener("load",onload),img.removeEventListener("error",onerror)}}function onload(){statusRef.current="loaded",imageRef.current=img,setStateToken(Math.random())}function onerror(){statusRef.current="failed",imageRef.current=void 0,setStateToken(Math.random())}}),[url,crossOrigin,referrerpolicy]),[imageRef.current,statusRef.current]}}}]);