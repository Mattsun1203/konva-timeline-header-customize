"use strict";(self.webpackChunk_melfore_konva_timeline=self.webpackChunk_melfore_konva_timeline||[]).push([[376,579],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./src/@stories/index.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_runner_work_konva_timeline_konva_timeline_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_KonvaTimeline_index_stories_tsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/KonvaTimeline/index.stories.tsx");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",pre:"pre",h3:"h3",h4:"h4"},(0,_home_runner_work_konva_timeline_konva_timeline_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.h_,{title:"Intro/Getting started"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"melforekonva-timeline",children:"@melfore/konva-timeline"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"@melfore/konva-timeline"})," is a TypeScript ReactJS library that uses ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"konva"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"react-konva"})," to render a timeline component using canvas."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"install",children:"Install"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["To install the library run ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"npm i @melfore/konva-timeline"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"This library has the following required peerDependencies:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:'"konva": ">= 9.2.0 < 10",\n"react": ">= 18.2.0 < 19",\n"react-dom": ">= 18.2.0 < 19",\n"react-konva": ">= 18.2.9 < 19"\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"usage",children:"Usage"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Import the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"KonvaTimeline"})," component from ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"@melfore/konva-timeline"})," library:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:'import { KonvaTimeline } from "@melfore/konva-timeline";\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Use the component passing the minimum set of required properties:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Xz,{of:_KonvaTimeline_index_stories_tsx__WEBPACK_IMPORTED_MODULE_2__.Primary}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"props",children:"Props"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Below the reference for all accepted properties:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_4__.Ed,{of:_KonvaTimeline_index_stories_tsx__WEBPACK_IMPORTED_MODULE_2__.Primary,requiredFirst:!0}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h4,{id:"resource",children:"Resource"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"interface Resource {\n  /**\n   * Unique identifier of the resource\n   */\n  id: string;\n  /**\n   * Label of the resource\n   */\n  label: string;\n  /**\n   * Color assigned to the resource\n   */\n  color: string;\n}\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h4,{id:"taskdata",children:"TaskData"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"interface TaskData {\n  /**\n   * Unique identifier of the task\n   */\n  id: string;\n  /**\n   * Label of the task\n   */\n  label: string;\n  /**\n   * Id of assigned resource\n   */\n  resourceId: string;\n  /**\n   * Task time range\n   */\n  time: TimeRange;\n}\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h4,{id:"timerange",children:"TimeRange"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"interface TimeRange {\n  /**\n   * Start of time range interval\n   */\n  start: number;\n  /**\n   * End of time range interval\n   */\n  end: number;\n}\n"})})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_home_runner_work_konva_timeline_konva_timeline_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_3__.ah)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}},"./src/KonvaTimeline/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomColumnWidth:()=>CustomColumnWidth,CustomResolution:()=>CustomResolution,HiddenResources:()=>HiddenResources,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _stories_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/KonvaTimeline/stories-data.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Main/KonvaTimeline",component:__webpack_require__("./src/KonvaTimeline/index.tsx").Z,tags:["autodocs"],argTypes:{onTaskClick:{type:"function"},onTaskDrag:{type:"function"}}},{range,resources,tasks}=(0,_stories_data__WEBPACK_IMPORTED_MODULE_0__.bm)({averageTaskDurationInMinutes:200,resourcesCount:3,tasksCount:5,timeRangeInDays:1}),Primary={args:{range,resources,tasks,resolution:"1hrs"}},CustomColumnWidth={args:{...Primary.args,columnWidth:120}},CustomResolution={args:{...Primary.args,resolution:"10min"}},HiddenResources={args:{...Primary.args,hideResources:!0}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  args: {\n    range,\n    resources,\n    tasks,\n    resolution: "1hrs"\n  }\n}',...Primary.parameters?.docs?.source}}},CustomColumnWidth.parameters={...CustomColumnWidth.parameters,docs:{...CustomColumnWidth.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Primary.args,\n    columnWidth: 120\n  }\n}",...CustomColumnWidth.parameters?.docs?.source}}},CustomResolution.parameters={...CustomResolution.parameters,docs:{...CustomResolution.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Primary.args,\n    resolution: "10min"\n  }\n}',...CustomResolution.parameters?.docs?.source}}},HiddenResources.parameters={...HiddenResources.parameters,docs:{...HiddenResources.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Primary.args,\n    hideResources: true\n  }\n}",...HiddenResources.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","CustomColumnWidth","CustomResolution","HiddenResources"]},"./src/@components/@konva/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{LE:()=>KonvaGroup,Rj:()=>KonvaLayer,V:()=>KonvaText,oJ:()=>KonvaRect,vL:()=>KonvaLine});__webpack_require__("./node_modules/react/index.js");var react_konva__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const KonvaGroup=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.ZA,{...props,listening:!1,perfectDrawEnabled:!1});KonvaGroup.displayName="KonvaGroup";const KonvaLayer=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.mh,{...props,listening:!1,perfectDrawEnabled:!1});KonvaLayer.displayName="KonvaLayer";const KonvaLine=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.x1,{...props,listening:!1,perfectDrawEnabled:!1});KonvaLine.displayName="KonvaLine";const KonvaRect=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.UL,{...props,listening:!1,perfectDrawEnabled:!1});KonvaRect.displayName="KonvaRect";const KonvaText=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.xv,{...props,listening:!1,perfectDrawEnabled:!1});KonvaText.displayName="KonvaText";try{KonvaGroup.displayName="KonvaGroup",KonvaGroup.__docgenInfo={description:"",displayName:"KonvaGroup",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaGroup"]={docgenInfo:KonvaGroup.__docgenInfo,name:"KonvaGroup",path:"src/@components/@konva/index.tsx#KonvaGroup"})}catch(__react_docgen_typescript_loader_error){}try{KonvaLayer.displayName="KonvaLayer",KonvaLayer.__docgenInfo={description:"",displayName:"KonvaLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaLayer"]={docgenInfo:KonvaLayer.__docgenInfo,name:"KonvaLayer",path:"src/@components/@konva/index.tsx#KonvaLayer"})}catch(__react_docgen_typescript_loader_error){}try{KonvaLine.displayName="KonvaLine",KonvaLine.__docgenInfo={description:"",displayName:"KonvaLine",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaLine"]={docgenInfo:KonvaLine.__docgenInfo,name:"KonvaLine",path:"src/@components/@konva/index.tsx#KonvaLine"})}catch(__react_docgen_typescript_loader_error){}try{KonvaRect.displayName="KonvaRect",KonvaRect.__docgenInfo={description:"",displayName:"KonvaRect",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaRect"]={docgenInfo:KonvaRect.__docgenInfo,name:"KonvaRect",path:"src/@components/@konva/index.tsx#KonvaRect"})}catch(__react_docgen_typescript_loader_error){}try{KonvaText.displayName="KonvaText",KonvaText.__docgenInfo={description:"",displayName:"KonvaText",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaText"]={docgenInfo:KonvaText.__docgenInfo,name:"KonvaText",path:"src/@components/@konva/index.tsx#KonvaText"})}catch(__react_docgen_typescript_loader_error){}},"./src/@components/ResourceHeader/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>ResourceHeaderDocs,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_Timeline__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/@contexts/Timeline.tsx"),_utils_resources__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/@utils/resources.ts"),_konva__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/@components/@konva/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ResourceHeader=({index,label})=>{const{theme:{color:themeColor}}=(0,_contexts_Timeline__WEBPACK_IMPORTED_MODULE_1__.i)(),yCoordinate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>_utils_resources__WEBPACK_IMPORTED_MODULE_2__.Cu*(index+1)),[index]),textYCoordinate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>_utils_resources__WEBPACK_IMPORTED_MODULE_2__.Cu*index),[index]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_konva__WEBPACK_IMPORTED_MODULE_3__.LE,{x:0,y:0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_3__.LE,{x:_utils_resources__WEBPACK_IMPORTED_MODULE_2__.Fc,y:_utils_resources__WEBPACK_IMPORTED_MODULE_2__.Fc,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_3__.V,{fill:themeColor,text:label,y:textYCoordinate})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_3__.vL,{points:[0,0,_utils_resources__WEBPACK_IMPORTED_MODULE_2__.Oc,0],stroke:themeColor,y:yCoordinate})]})};ResourceHeader.displayName="ResourceHeader";const ResourceHeaderDocs=ResourceHeader,__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ResourceHeader);try{ResourceHeaderDocs.displayName="ResourceHeaderDocs",ResourceHeaderDocs.__docgenInfo={description:"",displayName:"ResourceHeaderDocs",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"Unique identifier of the resource",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"Label of the resource",name:"label",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"Color assigned to the resource",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/ResourceHeader/index.tsx#ResourceHeaderDocs"]={docgenInfo:ResourceHeaderDocs.__docgenInfo,name:"ResourceHeaderDocs",path:"src/@components/ResourceHeader/index.tsx#ResourceHeaderDocs"})}catch(__react_docgen_typescript_loader_error){}try{ResourceHeader.displayName="ResourceHeader",ResourceHeader.__docgenInfo={description:"This component renders a Resource header with text and delimiter line\n\nThe playground has a simulated canvas with height: 200px and width: 100%",displayName:"ResourceHeader",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"Unique identifier of the resource",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"Label of the resource",name:"label",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"Color assigned to the resource",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/ResourceHeader/index.tsx#ResourceHeader"]={docgenInfo:ResourceHeader.__docgenInfo,name:"ResourceHeader",path:"src/@components/ResourceHeader/index.tsx#ResourceHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/@components/ResourcesLayer/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _contexts_Timeline__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/@contexts/Timeline.tsx"),_konva__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/@components/@konva/index.tsx"),_ResourceHeader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/@components/ResourceHeader/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ResourcesLayer=()=>{const{resources}=(0,_contexts_Timeline__WEBPACK_IMPORTED_MODULE_1__.i)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_2__.Rj,{children:resources.map(((resource,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ResourceHeader__WEBPACK_IMPORTED_MODULE_3__.Z,{...resource,index},`resource-${resource.id}`)))})};ResourcesLayer.displayName="ResourcesLayer";const __WEBPACK_DEFAULT_EXPORT__=ResourcesLayer;try{ResourcesLayer.displayName="ResourcesLayer",ResourcesLayer.__docgenInfo={description:"This component renders a set of resources as a Konva Layer.\nFor each resource, a `ResourceHeader` is displayed.",displayName:"ResourcesLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/ResourcesLayer/index.tsx#ResourcesLayer"]={docgenInfo:ResourcesLayer.__docgenInfo,name:"ResourcesLayer",path:"src/@components/ResourcesLayer/index.tsx#ResourcesLayer"})}catch(__react_docgen_typescript_loader_error){}},"./src/KonvaTimeline/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_KonvaTimeline});var react=__webpack_require__("./node_modules/react/index.js"),ReactKonva=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),Timeline=__webpack_require__("./src/@contexts/Timeline.tsx"),logger=__webpack_require__("./src/@utils/logger.ts"),resources=__webpack_require__("./src/@utils/resources.ts"),time_resolution=__webpack_require__("./src/@utils/time-resolution.ts"),_konva=__webpack_require__("./src/@components/@konva/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const GridLayer=({columnWidth,height,width})=>{const{drawRange,interval,resolution,resources,theme:{color:themeColor},timeBlocks}=(0,Timeline.i)(),{sizeInUnits,unit,unitAbove}=resolution,unitAboveIntervals=(0,react.useMemo)((()=>interval.splitBy({[unitAbove]:1})),[interval,unitAbove]),oneUnitAboveDuration=(0,react.useMemo)((()=>unitAboveIntervals[0].toDuration().as(unit)/sizeInUnits),[sizeInUnits,unit,unitAboveIntervals]),oneUnitAboveColumnWidth=(0,react.useMemo)((()=>columnWidth*oneUnitAboveDuration),[columnWidth,oneUnitAboveDuration]),gridLabels=(0,react.useCallback)((index=>{if(!(index%oneUnitAboveDuration==0))return null;const unitAboveIntervalIndex=Math.ceil(index/oneUnitAboveDuration),unitAboveInterval=unitAboveIntervals[unitAboveIntervalIndex],unitAboveStartX=unitAboveIntervalIndex*oneUnitAboveColumnWidth;return(0,jsx_runtime.jsxs)(_konva.LE,{children:[(0,jsx_runtime.jsx)(_konva.oJ,{fill:"transparent",x:5+unitAboveStartX,y:5,height:18,width:oneUnitAboveColumnWidth-10}),(0,jsx_runtime.jsx)(_konva.V,{fill:themeColor,x:5+unitAboveStartX,y:10,text:(0,time_resolution.kv)(unitAboveInterval,unitAbove),align:"center",width:oneUnitAboveColumnWidth-10}),(0,jsx_runtime.jsx)(_konva.vL,{x:unitAboveStartX,y:0,points:[0,0,0,height],stroke:"gray"})]})}),[height,oneUnitAboveDuration,oneUnitAboveColumnWidth,themeColor,unitAbove,unitAboveIntervals]);return(0,jsx_runtime.jsx)(_konva.Rj,{children:(0,jsx_runtime.jsxs)(_konva.LE,{children:[resources.map((({id},index)=>(0,jsx_runtime.jsx)(_konva.LE,{children:(0,jsx_runtime.jsx)(_konva.vL,{x:0,y:50*(index+1),points:[0,0,width,0],stroke:themeColor})},`heading-${id}`))),(0,jsx_runtime.jsx)(_konva.vL,{points:[0,0,0,height],stroke:"blue"}),timeBlocks.map(((column,index)=>{const xPos=columnWidth*index;return xPos<-2*drawRange.start||xPos>2*drawRange.end?null:(0,jsx_runtime.jsxs)(_konva.LE,{children:[gridLabels(index),(0,jsx_runtime.jsx)(_konva.vL,{x:columnWidth*index,y:40,points:[0,0,0,height],stroke:"gray",strokeWidth:1}),(0,jsx_runtime.jsx)(_konva.oJ,{fill:"transparent",x:columnWidth*index-15,y:30,height:15,width:30}),(0,jsx_runtime.jsx)(_konva.V,{fill:themeColor,x:columnWidth*index-15,y:32,text:(0,time_resolution.kv)(column,resolution.unit)})]},`timeslot-${index}`)})),(0,jsx_runtime.jsx)(_konva.LE,{children:(0,jsx_runtime.jsx)(_konva.vL,{x:columnWidth*timeBlocks.length,y:0,points:[0,0,0,height],stroke:"gray"})},"timeslot-last")]})})};GridLayer.displayName="GridLayer";const _components_GridLayer=GridLayer;try{GridLayer.displayName="GridLayer",GridLayer.__docgenInfo={description:"",displayName:"GridLayer",props:{columnWidth:{defaultValue:null,description:"",name:"columnWidth",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/GridLayer/index.tsx#GridLayer"]={docgenInfo:GridLayer.__docgenInfo,name:"GridLayer",path:"src/@components/GridLayer/index.tsx#GridLayer"})}catch(__react_docgen_typescript_loader_error){}var ResourcesLayer=__webpack_require__("./src/@components/ResourcesLayer/index.tsx"),TasksLayer=__webpack_require__("./src/@components/TasksLayer/index.tsx");const DEFAULT_STAGE_SIZE={height:0,width:0},Timeline_Timeline=()=>{const{hideResources,columnWidth,resourcesContentHeight,setDrawRange,theme:{color:themeColor},timeBlocks}=(0,Timeline.i)(),[scrollbarSize,setScrollbarSize]=(0,react.useState)(0),[size,setSize]=(0,react.useState)(DEFAULT_STAGE_SIZE),stageRef=(0,react.useRef)(null),wrapper=(0,react.useRef)(null),onWindowResize=(0,react.useCallback)((()=>{if(!wrapper.current)return;(0,logger.o7)("Timeline","Resizing window...");const{clientHeight:height,clientWidth:width,offsetHeight,offsetWidth}=wrapper.current,scrollbarSize=Math.max(offsetHeight-height,offsetWidth-width);setSize({height,width}),setScrollbarSize(scrollbarSize)}),[]),onStageScroll=(0,react.useCallback)((()=>{if(!wrapper.current||!stageRef.current)return;(0,logger.o7)("Timeline","Scrolling stage...");const{scrollLeft}=wrapper.current;stageRef.current.container().style.transform=`translate(${scrollLeft}px, 0)`,stageRef.current.x(-scrollLeft);const start=scrollLeft,end=scrollLeft+size.width;setDrawRange({start,end})}),[setDrawRange,size.width]);(0,react.useEffect)((()=>((0,logger.o7)("Timeline","Initial applying of onResize event listener..."),window.addEventListener("resize",onWindowResize),onWindowResize(),()=>{window.removeEventListener("resize",onWindowResize)})),[onWindowResize]),(0,react.useEffect)((()=>{wrapper.current&&((0,logger.o7)("Timeline","Initial applying of onScroll event listener..."),wrapper.current.addEventListener("scroll",onStageScroll),onStageScroll())}),[onStageScroll]),(0,react.useEffect)((()=>{(0,logger.o7)("Timeline","Applying effects of size changes..."),onWindowResize()}),[hideResources,onWindowResize]);const fullTimelineWidth=(0,react.useMemo)((()=>columnWidth*timeBlocks.length),[columnWidth,timeBlocks]),stageHeight=(0,react.useMemo)((()=>size.height),[size]),stageWidth=(0,react.useMemo)((()=>scrollbarSize+size.width),[scrollbarSize,size]),timelineCommonStyle=(0,react.useMemo)((()=>({minHeight:resourcesContentHeight})),[resourcesContentHeight]),timelineWrapperStyle=(0,react.useMemo)((()=>({...timelineCommonStyle,border:`1px solid ${themeColor}`,display:"inline-block",position:"relative",width:"100%"})),[themeColor,timelineCommonStyle]),resourcesStageWrapperStyle=(0,react.useMemo)((()=>({...timelineCommonStyle,backgroundColor:"transparent",boxShadow:"4px 4px 32px 1px #0000000f",borderRight:`1px solid ${themeColor}`,left:0,paddingBottom:scrollbarSize,position:"sticky",top:0,width:resources.Oc,zIndex:1})),[scrollbarSize,themeColor,timelineCommonStyle]),gridStageWrapperStyle=(0,react.useMemo)((()=>({...timelineCommonStyle,overflow:"hidden",width:fullTimelineWidth})),[fullTimelineWidth,timelineCommonStyle]),resourcesOffset=(0,react.useMemo)((()=>hideResources?0:resources.Oc+1),[hideResources]),gridWrapperStyle=(0,react.useMemo)((()=>({...timelineCommonStyle,left:resourcesOffset,overflow:"auto",position:"absolute",top:0,width:`calc(100% - ${resourcesOffset}px)`})),[resourcesOffset,timelineCommonStyle]);return(0,jsx_runtime.jsxs)("div",{style:timelineWrapperStyle,children:[!hideResources&&(0,jsx_runtime.jsx)("div",{style:resourcesStageWrapperStyle,children:(0,jsx_runtime.jsx)(ReactKonva.Hf,{height:stageHeight,width:resources.Oc,children:(0,jsx_runtime.jsx)(ResourcesLayer.Z,{})})}),(0,jsx_runtime.jsx)("div",{ref:wrapper,style:gridWrapperStyle,children:(0,jsx_runtime.jsx)("div",{style:gridStageWrapperStyle,children:(0,jsx_runtime.jsxs)(ReactKonva.Hf,{ref:stageRef,height:stageHeight,width:stageWidth,children:[(0,jsx_runtime.jsx)(_components_GridLayer,{columnWidth,height:stageHeight,width:fullTimelineWidth}),(0,jsx_runtime.jsx)(TasksLayer.Z,{})]})})})]})};Timeline_Timeline.displayName="Timeline";const _components_Timeline=Timeline_Timeline;try{Timeline_Timeline.displayName="Timeline",Timeline_Timeline.__docgenInfo={description:"",displayName:"Timeline",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/Timeline/index.tsx#Timeline"]={docgenInfo:Timeline_Timeline.__docgenInfo,name:"Timeline",path:"src/@components/Timeline/index.tsx#Timeline"})}catch(__react_docgen_typescript_loader_error){}const KonvaTimeline=props=>(0,jsx_runtime.jsx)(Timeline.w,{...props,children:(0,jsx_runtime.jsx)(_components_Timeline,{})});KonvaTimeline.displayName="KonvaTimeline";const src_KonvaTimeline=KonvaTimeline;try{KonvaTimeline.displayName="KonvaTimeline",KonvaTimeline.__docgenInfo={description:"",displayName:"KonvaTimeline",props:{columnWidth:{defaultValue:null,description:"Custom column width (defaults to 60px)",name:"columnWidth",required:!1,type:{name:"number"}},hideResources:{defaultValue:null,description:"Flag to hide resource column (defaults to false)",name:"hideResources",required:!1,type:{name:"boolean"}},resolution:{defaultValue:null,description:"Resolution to display data in konva-timeline",name:"resolution",required:!0,type:{name:"enum",value:[{value:'"1min"'},{value:'"5min"'},{value:'"10min"'},{value:'"15min"'},{value:'"30min"'},{value:'"1hrs"'},{value:'"2hrs"'},{value:'"6hrs"'},{value:'"12hrs"'},{value:'"1day"'},{value:'"1week"'},{value:'"2weeks"'}]}},tasks:{defaultValue:null,description:"List of tasks to be displayed",name:"tasks",required:!0,type:{name:"TaskData[]"}},range:{defaultValue:null,description:"Time range to be displayed",name:"range",required:!0,type:{name:"TimeRange"}},resources:{defaultValue:null,description:"List of resources to be displayed",name:"resources",required:!0,type:{name:"Resource[]"}},debug:{defaultValue:null,description:"Enables debug logging in browser console",name:"debug",required:!1,type:{name:"boolean"}},onTaskClick:{defaultValue:null,description:"Event handler for task click",name:"onTaskClick",required:!1,type:{name:"((task: TaskData) => void)"}},onTaskDrag:{defaultValue:null,description:"Event handler for task click",name:"onTaskDrag",required:!1,type:{name:"((task: TaskData) => void)"}},theme:{defaultValue:null,description:"Theme color in use",name:"theme",required:!1,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/KonvaTimeline/index.tsx#KonvaTimeline"]={docgenInfo:KonvaTimeline.__docgenInfo,name:"KonvaTimeline",path:"src/KonvaTimeline/index.tsx#KonvaTimeline"})}catch(__react_docgen_typescript_loader_error){}}}]);