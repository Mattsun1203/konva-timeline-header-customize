"use strict";(self.webpackChunk_melfore_konva_timeline=self.webpackChunk_melfore_konva_timeline||[]).push([[436],{"./src/KonvaTimeline/line-scenario.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Line:function(){return Line},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return line_scenario_stories}});var react=__webpack_require__("./node_modules/react/index.js");function cov_2mi48hyacp(){var path="/home/runner/work/konva-timeline/konva-timeline/src/utils/decorator.tsx",global=new Function("return this")(),gcv="__coverage__",coverageData={path:"/home/runner/work/konva-timeline/konva-timeline/src/utils/decorator.tsx",statementMap:{0:{start:{line:2,column:23},end:{line:43,column:1}},1:{start:{line:9,column:28},end:{line:9,column:51}},2:{start:{line:10,column:2},end:{line:15,column:22}},3:{start:{line:11,column:4},end:{line:13,column:5}},4:{start:{line:12,column:6},end:{line:12,column:30}},5:{start:{line:16,column:23},end:{line:35,column:35}},6:{start:{line:17,column:4},end:{line:17,column:61}},7:{start:{line:18,column:21},end:{line:33,column:6}},8:{start:{line:19,column:6},end:{line:28,column:7}},9:{start:{line:20,column:22},end:{line:20,column:34}},10:{start:{line:21,column:8},end:{line:27,column:10}},11:{start:{line:29,column:6},end:{line:31,column:7}},12:{start:{line:30,column:8},end:{line:30,column:20}},13:{start:{line:32,column:6},end:{line:32,column:15}},14:{start:{line:34,column:4},end:{line:34,column:23}},15:{start:{line:36,column:2},end:{line:42,column:5}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:23},end:{line:2,column:24}},loc:{start:{line:8,column:6},end:{line:43,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:10,column:12},end:{line:10,column:13}},loc:{start:{line:10,column:18},end:{line:15,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:16,column:35},end:{line:16,column:36}},loc:{start:{line:16,column:51},end:{line:35,column:3}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:18,column:31},end:{line:18,column:32}},loc:{start:{line:18,column:36},end:{line:33,column:5}},line:18}},branchMap:{0:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},1:{loc:{start:{line:17,column:4},end:{line:17,column:60}},type:"binary-expr",locations:[{start:{line:17,column:4},end:{line:17,column:24}},{start:{line:17,column:28},end:{line:17,column:60}}],line:17},2:{loc:{start:{line:19,column:6},end:{line:28,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:28,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},3:{loc:{start:{line:19,column:10},end:{line:19,column:45}},type:"binary-expr",locations:[{start:{line:19,column:10},end:{line:19,column:14}},{start:{line:19,column:18},end:{line:19,column:45}}],line:19},4:{loc:{start:{line:29,column:6},end:{line:31,column:7}},type:"if",locations:[{start:{line:29,column:6},end:{line:31,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,names:["useCallback","useEffect","useState","DecoratorGantt","Story","args","onTaskChange","externalOnTaskChange","tasks","externalTasks","setTasks","task","opts","newTasks","map","i","tasksId","includes","id","start","time","Number","addTime","end"],sources:["/home/runner/work/konva-timeline/konva-timeline/src/utils/decorator.tsx"],mappings:"AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAKxD,MAAMC,cAA2B,GAAGA,CAClCC,KAAK,EACL;EAAEC,IAAI,EAAE;IAAEC,YAAY,EAAEC,oBAAoB;IAAEC,KAAK,EAAEC,aAAa;IAAE,GAAGJ;EAAK;AAAE,CAAC,KAC5E;EACH,MAAM,CAACG,KAAK,EAAEE,QAAQ,CAAC,GAAGR,QAAQ,CAAaO,aAAa,CAAC;EAE7DR,SAAS,CAAC,MAAM;IACd,IAAIQ,aAAa,KAAKD,KAAK,EAAE;MAC3BE,QAAQ,CAACD,aAAa,CAAC;IACzB;IACA;EACF,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,MAAMH,YAAY,GAAGN,WAAW,CAC9B,CAACW,IAAc,EAAEC,IAA4C,KAAK;IAChEL,oBAAoB,IAAIA,oBAAoB,CAACI,IAAI,EAAEC,IAAI,CAAC;IACxD,MAAMC,QAAQ,GAAGL,KAAK,CAACM,GAAG,CAAEC,CAAC,IAAK;MAChC,IAAIH,IAAI,IAAIA,IAAI,CAACI,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,EAAE,CAAC,EAAE;QACvC,MAAMC,KAAK,GAAGJ,CAAC,CAACK,IAAI,CAACD,KAAK;QAC1B,OAAO;UAAE,GAAGJ,CAAC;UAAEK,IAAI,EAAE;YAAED,KAAK,EAAEE,MAAM,CAACF,KAAK,CAAC,GAAGP,IAAI,CAACU,OAAO;YAAEC,GAAG,EAAEF,MAAM,CAACN,CAAC,CAACK,IAAI,CAACG,GAAG,CAAC,GAAGX,IAAI,CAACU;UAAQ;QAAE,CAAC;MACxG;MACA,IAAIP,CAAC,CAACG,EAAE,KAAKP,IAAI,CAACO,EAAE,EAAE;QACpB,OAAOP,IAAI;MACb;MACA,OAAOI,CAAC;IACV,CAAC,CAAC;IACFL,QAAQ,CAACG,QAAQ,CAAC;EACpB,CAAC,EACD,CAACN,oBAAoB,EAAEC,KAAK,CAC9B,CAAC;EAED,OAAOJ,KAAK,CAAC;IACXC,IAAI,EAAE;MACJ,GAAGA,IAAI;MACPC,YAAY;MACZE;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AAED,eAAeL,cAAc"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"88d3aad4765107f2bb4319c5b3a7c5e0e18c1b95"},coverage=global[gcv]||(global[gcv]={});coverage[path]&&"88d3aad4765107f2bb4319c5b3a7c5e0e18c1b95"===coverage[path].hash||(coverage[path]=coverageData);var actualCoverage=coverage[path];return cov_2mi48hyacp=function(){return actualCoverage},actualCoverage}cov_2mi48hyacp(),cov_2mi48hyacp().s[0]++;var decorator=(Story,{args:{onTaskChange:externalOnTaskChange,tasks:externalTasks,...args}})=>{cov_2mi48hyacp().f[0]++;const[tasks,setTasks]=(cov_2mi48hyacp().s[1]++,(0,react.useState)(externalTasks));cov_2mi48hyacp().s[2]++,(0,react.useEffect)((()=>{cov_2mi48hyacp().f[1]++,cov_2mi48hyacp().s[3]++,externalTasks!==tasks?(cov_2mi48hyacp().b[0][0]++,cov_2mi48hyacp().s[4]++,setTasks(externalTasks)):cov_2mi48hyacp().b[0][1]++}),[externalTasks]);const onTaskChange=(cov_2mi48hyacp().s[5]++,(0,react.useCallback)(((task,opts)=>{cov_2mi48hyacp().f[2]++,cov_2mi48hyacp().s[6]++,cov_2mi48hyacp().b[1][0]++,externalOnTaskChange&&(cov_2mi48hyacp().b[1][1]++,externalOnTaskChange(task,opts));const newTasks=(cov_2mi48hyacp().s[7]++,tasks.map((i=>{if(cov_2mi48hyacp().f[3]++,cov_2mi48hyacp().s[8]++,cov_2mi48hyacp().b[3][0]++,opts&&(cov_2mi48hyacp().b[3][1]++,opts.tasksId.includes(i.id))){cov_2mi48hyacp().b[2][0]++;const start=(cov_2mi48hyacp().s[9]++,i.time.start);return cov_2mi48hyacp().s[10]++,{...i,time:{start:Number(start)+opts.addTime,end:Number(i.time.end)+opts.addTime}}}return cov_2mi48hyacp().b[2][1]++,cov_2mi48hyacp().s[11]++,i.id===task.id?(cov_2mi48hyacp().b[4][0]++,cov_2mi48hyacp().s[12]++,task):(cov_2mi48hyacp().b[4][1]++,cov_2mi48hyacp().s[13]++,i)})));cov_2mi48hyacp().s[14]++,setTasks(newTasks)}),[externalOnTaskChange,tasks]));return cov_2mi48hyacp().s[15]++,Story({args:{...args,onTaskChange:onTaskChange,tasks:tasks}})},stories_data=__webpack_require__("./src/KonvaTimeline/stories-data.ts");var line_scenario_stories={title:"Scenario/Gantt",component:__webpack_require__("./src/KonvaTimeline/index.tsx").A,decorators:[decorator],tags:["autodocs"],argTypes:{onTaskClick:{type:"function"},onTaskChange:{type:"function"}}};const{resources:resources}=(0,stories_data.Xk)({averageTaskDurationInMinutes:200,resourcesCount:3,tasksCount:5,timeRangeInDays:1}),Line={args:{onAreaSelect:void 0,resources:resources,resolution:"2weeks",enableLines:!0,toolTip:!1,onTaskClick:task=>task,initialDateTime:1698516e6,range:{start:16983576e5,end:17020952e5},tasks:[{id:"4",label:"Task4",resourceId:"2",time:{start:16984116e5,end:16986132e5},relatedTasks:["1"]},{id:"1",label:"Task1",resourceId:"1",time:{start:16987932e5,end:16994348e5},relatedTasks:["3","2"]},{id:"3",label:"Task3",resourceId:"3",time:{start:16997348e5,end:17002348e5}},{id:"2",label:"Task2",resourceId:"2",time:{start:17004348e5,end:17009348e5},relatedTasks:["5"]},{id:"5",label:"Task5",resourceId:"1",time:{start:17015052e5,end:17021052e5}}],onTaskChange:(task,opts)=>{task.id}}};Line.parameters={...Line.parameters,docs:{...Line.parameters?.docs,source:{originalSource:'{\n  args: {\n    onAreaSelect: undefined,\n    resources,\n    resolution: "2weeks",\n    enableLines: true,\n    toolTip: false,\n    onTaskClick: task => task,\n    initialDateTime: 1698516000000,\n    range: {\n      start: 1698357600000,\n      end: 1702095200000\n    },\n    tasks: [{\n      id: "4",\n      label: "Task4",\n      resourceId: "2",\n      time: {\n        start: 1698411600000,\n        end: 1698613200000\n      },\n      relatedTasks: ["1"]\n    }, {\n      id: "1",\n      label: "Task1",\n      resourceId: "1",\n      time: {\n        start: 1698793200000,\n        end: 1699434800000\n      },\n      relatedTasks: ["3", "2"]\n    }, {\n      id: "3",\n      label: "Task3",\n      resourceId: "3",\n      time: {\n        start: 1699734800000,\n        end: 1700234800000\n      }\n    }, {\n      id: "2",\n      label: "Task2",\n      resourceId: "2",\n      time: {\n        start: 1700434800000,\n        end: 1700934800000\n      },\n      relatedTasks: ["5"]\n    }, {\n      id: "5",\n      label: "Task5",\n      resourceId: "1",\n      time: {\n        start: 1701505200000,\n        end: 1702105200000\n      }\n    }],\n    onTaskChange: (task, opts) => {\n      task.id, opts;\n    }\n  }\n}',...Line.parameters?.docs?.source}}};const __namedExportsOrder=["Line"]}}]);