"use strict";(self.webpackChunk_melfore_konva_timeline=self.webpackChunk_melfore_konva_timeline||[]).push([[793],{"./src/@components/@konva/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{LE:()=>KonvaGroup,Rj:()=>KonvaLayer,V:()=>KonvaText,oJ:()=>KonvaRect,vL:()=>KonvaLine});__webpack_require__("./node_modules/react/index.js");var react_konva__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const KonvaGroup=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.ZA,{...props,listening:!1,perfectDrawEnabled:!1});KonvaGroup.displayName="KonvaGroup";const KonvaLayer=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.mh,{...props,listening:!1,perfectDrawEnabled:!1});KonvaLayer.displayName="KonvaLayer";const KonvaLine=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.x1,{...props,listening:!1,perfectDrawEnabled:!1});KonvaLine.displayName="KonvaLine";const KonvaRect=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.UL,{...props,listening:!1,perfectDrawEnabled:!1});KonvaRect.displayName="KonvaRect";const KonvaText=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.xv,{...props,listening:!1,perfectDrawEnabled:!1});KonvaText.displayName="KonvaText";try{KonvaGroup.displayName="KonvaGroup",KonvaGroup.__docgenInfo={description:"",displayName:"KonvaGroup",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaGroup"]={docgenInfo:KonvaGroup.__docgenInfo,name:"KonvaGroup",path:"src/@components/@konva/index.tsx#KonvaGroup"})}catch(__react_docgen_typescript_loader_error){}try{KonvaLayer.displayName="KonvaLayer",KonvaLayer.__docgenInfo={description:"",displayName:"KonvaLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaLayer"]={docgenInfo:KonvaLayer.__docgenInfo,name:"KonvaLayer",path:"src/@components/@konva/index.tsx#KonvaLayer"})}catch(__react_docgen_typescript_loader_error){}try{KonvaLine.displayName="KonvaLine",KonvaLine.__docgenInfo={description:"",displayName:"KonvaLine",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaLine"]={docgenInfo:KonvaLine.__docgenInfo,name:"KonvaLine",path:"src/@components/@konva/index.tsx#KonvaLine"})}catch(__react_docgen_typescript_loader_error){}try{KonvaRect.displayName="KonvaRect",KonvaRect.__docgenInfo={description:"",displayName:"KonvaRect",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaRect"]={docgenInfo:KonvaRect.__docgenInfo,name:"KonvaRect",path:"src/@components/@konva/index.tsx#KonvaRect"})}catch(__react_docgen_typescript_loader_error){}try{KonvaText.displayName="KonvaText",KonvaText.__docgenInfo={description:"",displayName:"KonvaText",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/@konva/index.tsx#KonvaText"]={docgenInfo:KonvaText.__docgenInfo,name:"KonvaText",path:"src/@components/@konva/index.tsx#KonvaText"})}catch(__react_docgen_typescript_loader_error){}},"./src/@components/ResourceHeader/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>ResourceHeaderDocs,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_resources__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/@utils/resources.ts"),_konva__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/@components/@konva/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ResourceHeader=({index,label})=>{const yCoordinate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>_utils_resources__WEBPACK_IMPORTED_MODULE_1__.Cu*(index+1)),[index]),textYCoordinate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>_utils_resources__WEBPACK_IMPORTED_MODULE_1__.Cu*index),[index]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_konva__WEBPACK_IMPORTED_MODULE_2__.LE,{x:0,y:0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_2__.LE,{x:_utils_resources__WEBPACK_IMPORTED_MODULE_1__.Fc,y:_utils_resources__WEBPACK_IMPORTED_MODULE_1__.Fc,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_2__.V,{text:label,y:textYCoordinate})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_2__.vL,{points:[0,0,_utils_resources__WEBPACK_IMPORTED_MODULE_1__.Oc,0],stroke:"black",y:yCoordinate})]})};ResourceHeader.displayName="ResourceHeader";const ResourceHeaderDocs=ResourceHeader,__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ResourceHeader);try{ResourceHeaderDocs.displayName="ResourceHeaderDocs",ResourceHeaderDocs.__docgenInfo={description:"",displayName:"ResourceHeaderDocs",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"Unique identifier of the resource",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"Label of the resource",name:"label",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"Color assigned to the resource",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/ResourceHeader/index.tsx#ResourceHeaderDocs"]={docgenInfo:ResourceHeaderDocs.__docgenInfo,name:"ResourceHeaderDocs",path:"src/@components/ResourceHeader/index.tsx#ResourceHeaderDocs"})}catch(__react_docgen_typescript_loader_error){}try{ResourceHeader.displayName="ResourceHeader",ResourceHeader.__docgenInfo={description:"This component renders a Resource header with text and delimiter line\n\nThe playground has a simulated canvas with height: 200px and width: 100%",displayName:"ResourceHeader",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"Unique identifier of the resource",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"Label of the resource",name:"label",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"Color assigned to the resource",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/ResourceHeader/index.tsx#ResourceHeader"]={docgenInfo:ResourceHeader.__docgenInfo,name:"ResourceHeader",path:"src/@components/ResourceHeader/index.tsx#ResourceHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/@components/ResourcesLayer/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _contexts_Timeline__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/@contexts/Timeline.tsx"),_konva__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/@components/@konva/index.tsx"),_ResourceHeader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/@components/ResourceHeader/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ResourcesLayer=()=>{const{resources}=(0,_contexts_Timeline__WEBPACK_IMPORTED_MODULE_1__.i)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_konva__WEBPACK_IMPORTED_MODULE_2__.Rj,{children:resources.map(((resource,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ResourceHeader__WEBPACK_IMPORTED_MODULE_3__.Z,{...resource,index},`resource-${resource.id}`)))})};ResourcesLayer.displayName="ResourcesLayer";const __WEBPACK_DEFAULT_EXPORT__=ResourcesLayer;try{ResourcesLayer.displayName="ResourcesLayer",ResourcesLayer.__docgenInfo={description:"This component renders a set of resources as a Konva Layer.\nFor each resource, a `ResourceHeader` is displayed.",displayName:"ResourcesLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/ResourcesLayer/index.tsx#ResourcesLayer"]={docgenInfo:ResourcesLayer.__docgenInfo,name:"ResourcesLayer",path:"src/@components/ResourcesLayer/index.tsx#ResourcesLayer"})}catch(__react_docgen_typescript_loader_error){}},"./src/@components/Task/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,i:()=>TaskDocs});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_konva__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Task=({fill="white",id,onClick,onLeave,onOver,stroke="black",x,y,width})=>{const onTaskMouseEvent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((e,callback)=>{const stage=e.target.getStage();if(!stage)return;const point=stage.getPointerPosition();point&&callback(id,point)}),[id]),onTaskClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>onTaskMouseEvent(e,onClick)),[onClick,onTaskMouseEvent]),onTaskLeave=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>onTaskMouseEvent(e,onLeave)),[onLeave,onTaskMouseEvent]),onTaskOver=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>onTaskMouseEvent(e,onOver)),[onOver,onTaskMouseEvent]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.UL,{id,cornerRadius:4,fill,height:40,onClick:onTaskClick,onMouseLeave:onTaskLeave,onMouseMove:onTaskOver,onMouseOver:onTaskOver,stroke,x,y,width})};Task.displayName="Task";const TaskDocs=Task,__WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Task);try{TaskDocs.displayName="TaskDocs",TaskDocs.__docgenInfo={description:"",displayName:"TaskDocs",props:{id:{defaultValue:null,description:"Unique identifier of the task",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"Label of the task",name:"label",required:!0,type:{name:"string"}},fill:{defaultValue:{value:"white"},description:"The fill color of a canvas item",name:"fill",required:!1,type:{name:"string"}},stroke:{defaultValue:{value:"black"},description:"The stroke color of a canvas item",name:"stroke",required:!1,type:{name:"string"}},x:{defaultValue:null,description:"The x coordinate of a point on canvas",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"The y coordinate of a point on canvas",name:"y",required:!0,type:{name:"number"}},onClick:{defaultValue:null,description:"On mouse click event handler",name:"onClick",required:!0,type:{name:"TaskMouseEventHandler"}},onLeave:{defaultValue:null,description:"On mouse leave event handler",name:"onLeave",required:!0,type:{name:"TaskMouseEventHandler"}},onOver:{defaultValue:null,description:"On mouse over event handler",name:"onOver",required:!0,type:{name:"TaskMouseEventHandler"}},width:{defaultValue:null,description:"The width of the task",name:"width",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/Task/index.tsx#TaskDocs"]={docgenInfo:TaskDocs.__docgenInfo,name:"TaskDocs",path:"src/@components/Task/index.tsx#TaskDocs"})}catch(__react_docgen_typescript_loader_error){}try{Task.displayName="Task",Task.__docgenInfo={description:"This component renders a simple task as a rectangle inside a canvas.\nEach task is rendered by `TasksLayer` component, with a loop on each task provided to `KonvaTimeline`.\n`TasksLayer` is also responsible of handling callback for task components.\n\nSupported events (click, leave, over) respond with callbacks of type:\n<br />\n `(taskId: string, point: KonvaPoint) => void`\n\nThe playground has a simulated canvas with height: 200px and width: 100%",displayName:"Task",props:{id:{defaultValue:null,description:"Unique identifier of the task",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"Label of the task",name:"label",required:!0,type:{name:"string"}},fill:{defaultValue:{value:"white"},description:"The fill color of a canvas item",name:"fill",required:!1,type:{name:"string"}},stroke:{defaultValue:{value:"black"},description:"The stroke color of a canvas item",name:"stroke",required:!1,type:{name:"string"}},x:{defaultValue:null,description:"The x coordinate of a point on canvas",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"The y coordinate of a point on canvas",name:"y",required:!0,type:{name:"number"}},onClick:{defaultValue:null,description:"On mouse click event handler",name:"onClick",required:!0,type:{name:"TaskMouseEventHandler"}},onLeave:{defaultValue:null,description:"On mouse leave event handler",name:"onLeave",required:!0,type:{name:"TaskMouseEventHandler"}},onOver:{defaultValue:null,description:"On mouse over event handler",name:"onOver",required:!0,type:{name:"TaskMouseEventHandler"}},width:{defaultValue:null,description:"The width of the task",name:"width",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/Task/index.tsx#Task"]={docgenInfo:Task.__docgenInfo,name:"Task",path:"src/@components/Task/index.tsx#Task"})}catch(__react_docgen_typescript_loader_error){}},"./src/@components/TaskTooltip/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_konva__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),_contexts_Timeline__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/@contexts/Timeline.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const TaskTooltip=({task:{label:taskLabel},x,y})=>{const{drawRange:{start:drawRangeStart}}=(0,_contexts_Timeline__WEBPACK_IMPORTED_MODULE_2__.i)(),adjustedX=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>x+drawRangeStart),[drawRangeStart,x]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_konva__WEBPACK_IMPORTED_MODULE_1__.__,{x:adjustedX,y,opacity:.75,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.Vp,{fill:"black",lineJoin:"round",pointerDirection:"down",pointerHeight:10,pointerWidth:10,shadowBlur:10,shadowColor:"black",shadowOffsetX:10,shadowOffsetY:10,shadowOpacity:.2}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_konva__WEBPACK_IMPORTED_MODULE_1__.xv,{text:taskLabel,fill:"white",fontSize:18,padding:5})]})};TaskTooltip.displayName="TaskTooltip";const __WEBPACK_DEFAULT_EXPORT__=TaskTooltip;try{TaskTooltip.displayName="TaskTooltip",TaskTooltip.__docgenInfo={description:"This component renders a task tooltip inside a canvas.",displayName:"TaskTooltip",props:{task:{defaultValue:null,description:"",name:"task",required:!0,type:{name:"TaskData"}},x:{defaultValue:null,description:"The x coordinate of a point on canvas",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"The y coordinate of a point on canvas",name:"y",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/TaskTooltip/index.tsx#TaskTooltip"]={docgenInfo:TaskTooltip.__docgenInfo,name:"TaskTooltip",path:"src/@components/TaskTooltip/index.tsx#TaskTooltip"})}catch(__react_docgen_typescript_loader_error){}},"./src/@components/TasksLayer/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_konva__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),luxon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_contexts_Timeline__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/@contexts/Timeline.tsx"),_utils_resources__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/@utils/resources.ts"),_Task__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/@components/Task/index.tsx"),_TaskTooltip__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/@components/TaskTooltip/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");const TasksLayer=()=>{const{drawRange,interval:{start:intervalStart,end:intervalEnd},resolution,resources,tasks}=(0,_contexts_Timeline__WEBPACK_IMPORTED_MODULE_3__.i)(),[taskTooltip,setTaskTooltip]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),getResourceById=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((resourceId=>resources.findIndex((({id})=>resourceId===id))),[resources]),getTaskById=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((taskId=>tasks.find((({id})=>taskId===id))),[tasks]),onTaskClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((taskId,point)=>{const task=getTaskById(taskId);task&&alert(`You clicked on task '${task.label}'. Point x: ${point.x}, y: ${point.y}`)}),[getTaskById]),onTaskLeave=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>setTaskTooltip(null)),[]),onTaskOver=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((taskId,point)=>{const task=getTaskById(taskId);if(!task)return setTaskTooltip(null);const{x,y}=point;setTaskTooltip({task,x,y})}),[getTaskById]),getXCoordinate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((offset=>offset*resolution.columnSize/resolution.sizeInUnits),[resolution.columnSize,resolution.sizeInUnits]),getTaskXCoordinate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((startTime=>{const startOffsetInUnit=luxon__WEBPACK_IMPORTED_MODULE_2__.ou.fromMillis(startTime).diff(intervalStart).as(resolution.unit);return getXCoordinate(startOffsetInUnit)}),[getXCoordinate,intervalStart,resolution.unit]),getTaskWidth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((({start,end})=>{const timeStart=luxon__WEBPACK_IMPORTED_MODULE_2__.ou.fromMillis(start),widthOffsetInUnit=luxon__WEBPACK_IMPORTED_MODULE_2__.ou.fromMillis(end).diff(timeStart).as(resolution.unit);return getXCoordinate(widthOffsetInUnit)}),[getXCoordinate,resolution.unit]);return intervalStart&&intervalEnd?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_konva__WEBPACK_IMPORTED_MODULE_1__.mh,{children:[tasks.map((({id,label,resourceId,time},index)=>{const resourceIndex=getResourceById(resourceId);if(resourceIndex<0)return null;const{color:resourceColor}=resources[resourceIndex],xCoordinate=getTaskXCoordinate(time.start),yCoordinate=_utils_resources__WEBPACK_IMPORTED_MODULE_4__.Cu*resourceIndex+5,width=getTaskWidth(time);return xCoordinate>drawRange.end||xCoordinate+width<drawRange.start?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_Task__WEBPACK_IMPORTED_MODULE_5__.Z,{id,fill:resourceColor,label,onClick:onTaskClick,onLeave:onTaskLeave,onOver:onTaskOver,x:xCoordinate,y:yCoordinate,width},`task-${index}`)})),taskTooltip&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_TaskTooltip__WEBPACK_IMPORTED_MODULE_6__.Z,{...taskTooltip})]}):null};TasksLayer.displayName="TasksLayer";const __WEBPACK_DEFAULT_EXPORT__=TasksLayer;try{TasksLayer.displayName="TasksLayer",TasksLayer.__docgenInfo={description:"This component renders a set of tasks as a Konva Layer.\nTasks are displayed accordingly to their assigned resource (different vertical / row position) and their timing (different horizontal / column position)\n`TasksLayer` is also responsible of handling callback for task components offering base implementation for click, leave and over.\n\nThe playground has a canvas that simulates 1 day of data with 1 hour resolution.\nDepending on your screen size you might be able to test also the horizontal scrolling behaviour.",displayName:"TasksLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/TasksLayer/index.tsx#TasksLayer"]={docgenInfo:TasksLayer.__docgenInfo,name:"TasksLayer",path:"src/@components/TasksLayer/index.tsx#TasksLayer"})}catch(__react_docgen_typescript_loader_error){}},"./src/@contexts/Timeline.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>TimelineProvider,i:()=>useTimelineContext});var react=__webpack_require__("./node_modules/react/index.js"),logger=__webpack_require__("./src/@utils/logger.ts"),_utils_resources=__webpack_require__("./src/@utils/resources.ts"),luxon=__webpack_require__("./node_modules/luxon/src/luxon.js");const toInterval=({start,end})=>luxon.Xp.fromDateTimes(luxon.ou.fromMillis(start),luxon.ou.fromMillis(end));var time_resolution=__webpack_require__("./src/@utils/time-resolution.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const TimelineContext=(0,react.createContext)(void 0),DEFAULT_DRAW_RANGE={start:0,end:0},TimelineProvider=({children,debug=!1,hideResources=!1,tasks:externalTasks,range,resolution:externalResolution,resources:externalResources})=>{const[drawRange,setDrawRange]=(0,react.useState)(DEFAULT_DRAW_RANGE),[resolutionKey,setResolutionKey]=(0,react.useState)(externalResolution);(0,react.useEffect)((()=>{(0,logger.yN)("TimelineProvider","Debug "+(debug?"ON":"OFF")),window.__MELFORE_KONVA_TIMELINE_DEBUG__=debug}),[debug]),(0,react.useEffect)((()=>{externalResolution!==resolutionKey&&((0,logger.o7)("TimelineProvider",`Resolution changed to '${externalResolution}'`),setResolutionKey(externalResolution))}),[externalResolution]);const interval=(0,react.useMemo)((()=>((0,logger.o7)("TimelineProvider","Calculating interval..."),toInterval(range))),[range]),resolution=(0,react.useMemo)((()=>((0,logger.o7)("TimelineProvider","Calculating resolution..."),(0,time_resolution.Ig)(resolutionKey))),[resolutionKey]),resources=(0,react.useMemo)((()=>((0,logger.o7)("TimelineProvider","Preparing resources..."),[_utils_resources.if,...externalResources])),[externalResources]),resourcesContentHeight=(0,react.useMemo)((()=>((0,logger.o7)("TimelineProvider","Calculating resources content height..."),_utils_resources.Cu*resources.length)),[resources]),tasks=(0,react.useMemo)((()=>((0,logger.o7)("TimelineProvider","Preparing tasks..."),((tasks,interval)=>tasks.filter((task=>{const taskInterval=toInterval(task.time);return!!interval.intersection(taskInterval)})))(externalTasks,interval))),[externalTasks,interval]),timeBlocks=(0,react.useMemo)((()=>((0,logger.o7)("TimelineProvider","Calculating time blocks..."),interval.splitBy({[resolution.unit]:resolution.sizeInUnits}))),[interval,resolution]);return(0,jsx_runtime.jsx)(TimelineContext.Provider,{value:{drawRange,hideResources,interval,resolution,resolutionKey,resources,resourcesContentHeight,setDrawRange,setResolutionKey,tasks,timeBlocks},children})};TimelineProvider.displayName="TimelineProvider";const useTimelineContext=()=>{const context=(0,react.useContext)(TimelineContext);if(void 0===context)throw new Error("useTimelineContext must be used within a TimelineProvider");return context};try{TimelineProvider.displayName="TimelineProvider",TimelineProvider.__docgenInfo={description:"",displayName:"TimelineProvider",props:{columnWidth:{defaultValue:null,description:"Custom column width (defaults to 60px)",name:"columnWidth",required:!1,type:{name:"number"}},hideResources:{defaultValue:{value:"false"},description:"Flag to hide resource column (defaults to false)",name:"hideResources",required:!1,type:{name:"boolean"}},resolution:{defaultValue:null,description:"Resolution to display data in konva-timeline",name:"resolution",required:!0,type:{name:"enum",value:[{value:'"1min"'},{value:'"5min"'},{value:'"10min"'},{value:'"15min"'},{value:'"30min"'},{value:'"1hrs"'},{value:'"2hrs"'},{value:'"6hrs"'},{value:'"12hrs"'},{value:'"1day"'},{value:'"1week"'},{value:'"2weeks"'}]}},tasks:{defaultValue:null,description:"List of tasks to be displayed",name:"tasks",required:!0,type:{name:"TaskData[]"}},range:{defaultValue:null,description:"Time range to be displayed",name:"range",required:!0,type:{name:"TimeRange"}},resources:{defaultValue:null,description:"List of resources to be displayed",name:"resources",required:!0,type:{name:"Resource[]"}},debug:{defaultValue:{value:"false"},description:"",name:"debug",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@contexts/Timeline.tsx#TimelineProvider"]={docgenInfo:TimelineProvider.__docgenInfo,name:"TimelineProvider",path:"src/@contexts/Timeline.tsx#TimelineProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/@utils/logger.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o7:()=>logDebug,yN:()=>logWarn});const logger=(level,component,message)=>{const text=`[@melfore/konva-timeline] ${component} - ${message}`;switch(level){case"debug":return void console.info(text);case"error":return void console.error(text);case"warn":return void console.warn(text)}},logDebug=(component,message)=>{window.__MELFORE_KONVA_TIMELINE_DEBUG__&&logger("debug",component,message)},logWarn=(component,message)=>logger("warn",component,message)},"./src/@utils/resources.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cu:()=>RESOURCE_HEADER_HEIGHT,Fc:()=>RESOURCE_HEADER_TEXT_OFFSET,Oc:()=>RESOURCE_HEADER_WIDTH,if:()=>RESOURCE_HEADER});const RESOURCE_HEADER_HEIGHT=50,RESOURCE_HEADER_TEXT_OFFSET=20,RESOURCE_HEADER_WIDTH=200,RESOURCE_HEADER={color:"transparent",id:"-1",label:"Header"}},"./src/@utils/time-resolution.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ig:()=>getResolutionData,kv:()=>displayInterval});const RESOLUTIONS_DATA={"1min":{columnSize:30,label:"1 Minute",sizeInUnits:1,unit:"minute",unitAbove:"hour"},"5min":{columnSize:30,label:"5 Minutes",sizeInUnits:5,unit:"minute",unitAbove:"hour"},"10min":{columnSize:30,label:"10 Minutes",sizeInUnits:10,unit:"minute",unitAbove:"hour"},"15min":{columnSize:60,label:"15 Minutes",sizeInUnits:15,unit:"minute",unitAbove:"hour"},"30min":{columnSize:60,label:"30 Minutes",sizeInUnits:30,unit:"minute",unitAbove:"hour"},"1hrs":{columnSize:60,label:"1 Hour",sizeInUnits:1,unit:"hour",unitAbove:"day"},"2hrs":{columnSize:60,label:"2 Hours",sizeInUnits:2,unit:"hour",unitAbove:"day"},"6hrs":{columnSize:120,label:"1/4 of Day",sizeInUnits:6,unit:"hour",unitAbove:"day"},"12hrs":{columnSize:180,label:"1/2 of Day",sizeInUnits:12,unit:"hour",unitAbove:"day"},"1day":{columnSize:180,label:"1 Day",sizeInUnits:1,unit:"day",unitAbove:"week"},"1week":{columnSize:600,label:"1 Week",sizeInUnits:1,unit:"week",unitAbove:"month"},"2weeks":{columnSize:600,label:"2 Weeks",sizeInUnits:2,unit:"week",unitAbove:"month"}},displayInterval=(interval,unit)=>{const{start}=interval;if(!start)return"-";switch(unit){case"minute":return start.toFormat("mm");case"hour":return start.toFormat("HH:mm");case"day":return start.toFormat("ccc dd");case"week":return`CW ${start.toFormat("WW")}`;case"month":return start.toFormat("MMM yyyy");default:return"N/A"}},getResolutionData=key=>RESOLUTIONS_DATA[key]},"./src/KonvaTimeline/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_KonvaTimeline});var react=__webpack_require__("./node_modules/react/index.js"),ReactKonva=__webpack_require__("./node_modules/react-konva/es/ReactKonva.js"),Timeline=__webpack_require__("./src/@contexts/Timeline.tsx"),logger=__webpack_require__("./src/@utils/logger.ts"),resources=__webpack_require__("./src/@utils/resources.ts"),time_resolution=__webpack_require__("./src/@utils/time-resolution.ts"),_konva=__webpack_require__("./src/@components/@konva/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const GridLayer=({columnWidth,height,width})=>{const{drawRange,interval,resolution,resources,timeBlocks}=(0,Timeline.i)(),{sizeInUnits,unit,unitAbove}=resolution,unitAboveIntervals=(0,react.useMemo)((()=>interval.splitBy({[unitAbove]:1})),[interval,unitAbove]),oneUnitAboveDuration=(0,react.useMemo)((()=>unitAboveIntervals[0].toDuration().as(unit)/sizeInUnits),[sizeInUnits,unit,unitAboveIntervals]),oneUnitAboveColumnWidth=(0,react.useMemo)((()=>columnWidth*oneUnitAboveDuration),[columnWidth,oneUnitAboveDuration]),gridLabels=(0,react.useCallback)((index=>{if(!(index%oneUnitAboveDuration==0))return null;const unitAboveIntervalIndex=Math.ceil(index/oneUnitAboveDuration),unitAboveInterval=unitAboveIntervals[unitAboveIntervalIndex],unitAboveStartX=unitAboveIntervalIndex*oneUnitAboveColumnWidth;return(0,jsx_runtime.jsxs)(_konva.LE,{children:[(0,jsx_runtime.jsx)(_konva.oJ,{fill:"white",x:5+unitAboveStartX,y:5,height:18,width:oneUnitAboveColumnWidth-10}),(0,jsx_runtime.jsx)(_konva.V,{x:5+unitAboveStartX,y:10,text:(0,time_resolution.kv)(unitAboveInterval,unitAbove),align:"center",width:oneUnitAboveColumnWidth-10}),(0,jsx_runtime.jsx)(_konva.vL,{x:unitAboveStartX,y:0,points:[0,0,0,height],stroke:"gray"})]})}),[height,oneUnitAboveDuration,oneUnitAboveColumnWidth,unitAbove,unitAboveIntervals]);return(0,jsx_runtime.jsx)(_konva.Rj,{children:(0,jsx_runtime.jsxs)(_konva.LE,{children:[resources.map((({id},index)=>(0,jsx_runtime.jsx)(_konva.LE,{children:(0,jsx_runtime.jsx)(_konva.vL,{x:0,y:50*(index+1),points:[0,0,width,0],stroke:"black"})},`heading-${id}`))),(0,jsx_runtime.jsx)(_konva.vL,{points:[0,0,0,height],stroke:"blue"}),timeBlocks.map(((column,index)=>{const xPos=columnWidth*index;return xPos<-2*drawRange.start||xPos>2*drawRange.end?null:(0,jsx_runtime.jsxs)(_konva.LE,{children:[gridLabels(index),(0,jsx_runtime.jsx)(_konva.vL,{x:columnWidth*index,y:40,points:[0,0,0,height],stroke:"gray",strokeWidth:1}),(0,jsx_runtime.jsx)(_konva.oJ,{fill:"white",x:columnWidth*index-15,y:30,height:15,width:30}),(0,jsx_runtime.jsx)(_konva.V,{x:columnWidth*index-15,y:32,text:(0,time_resolution.kv)(column,resolution.unit)})]},`timeslot-${index}`)})),(0,jsx_runtime.jsx)(_konva.LE,{children:(0,jsx_runtime.jsx)(_konva.vL,{x:columnWidth*timeBlocks.length,y:0,points:[0,0,0,height],stroke:"gray"})},"timeslot-last")]})})};GridLayer.displayName="GridLayer";const _components_GridLayer=GridLayer;try{GridLayer.displayName="GridLayer",GridLayer.__docgenInfo={description:"",displayName:"GridLayer",props:{columnWidth:{defaultValue:null,description:"",name:"columnWidth",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/GridLayer/index.tsx#GridLayer"]={docgenInfo:GridLayer.__docgenInfo,name:"GridLayer",path:"src/@components/GridLayer/index.tsx#GridLayer"})}catch(__react_docgen_typescript_loader_error){}var ResourcesLayer=__webpack_require__("./src/@components/ResourcesLayer/index.tsx"),TasksLayer=__webpack_require__("./src/@components/TasksLayer/index.tsx");const DEFAULT_STAGE_SIZE={height:0,width:0},Timeline_Timeline=({columnWidth:externalColumnWidth})=>{const{hideResources,resolution,resourcesContentHeight,setDrawRange,timeBlocks}=(0,Timeline.i)(),[size,setSize]=(0,react.useState)(DEFAULT_STAGE_SIZE),stageRef=(0,react.useRef)(null),wrapper=(0,react.useRef)(null),onWindowResize=(0,react.useCallback)((()=>{if(!wrapper.current)return;(0,logger.o7)("Timeline","Resizing window...");const{clientHeight:height,clientWidth:width}=wrapper.current;setSize({height,width})}),[]),onStageScroll=(0,react.useCallback)((()=>{if(!wrapper.current||!stageRef.current)return;(0,logger.o7)("Timeline","Scrolling stage...");const{scrollLeft}=wrapper.current;stageRef.current.container().style.transform=`translate(${scrollLeft}px, 0)`,stageRef.current.x(-scrollLeft);const start=scrollLeft,end=scrollLeft+size.width;setDrawRange({start,end})}),[setDrawRange,size.width]);(0,react.useEffect)((()=>((0,logger.o7)("Timeline","Initial applying of onResize event listener..."),window.addEventListener("resize",onWindowResize),onWindowResize(),()=>{window.removeEventListener("resize",onWindowResize)})),[onWindowResize]),(0,react.useEffect)((()=>{wrapper.current&&((0,logger.o7)("Timeline","Initial applying of onScroll event listener..."),wrapper.current.addEventListener("scroll",onStageScroll),onStageScroll())}),[onStageScroll]),(0,react.useEffect)((()=>{(0,logger.o7)("Timeline","Applying effects of size changes..."),onWindowResize()}),[hideResources,onWindowResize]);const columnWidth=(0,react.useMemo)((()=>!externalColumnWidth||externalColumnWidth<60?resolution.columnSize:externalColumnWidth),[externalColumnWidth,resolution]),stageWidth=(0,react.useMemo)((()=>columnWidth*timeBlocks.length),[columnWidth,timeBlocks]),timelineCommonStyle=(0,react.useMemo)((()=>({height:resourcesContentHeight})),[resourcesContentHeight]),timelineWrapperStyle=(0,react.useMemo)((()=>({...timelineCommonStyle,border:"1px solid black",display:"inline-block",overflow:"scroll",position:"relative",width:"100%"})),[timelineCommonStyle]),resourcesStageWrapperStyle=(0,react.useMemo)((()=>({...timelineCommonStyle,backgroundColor:"white",boxShadow:"4px 4px 32px 1px #0000000f",left:0,position:"sticky",top:0,width:resources.Oc,zIndex:1})),[timelineCommonStyle]),gridStageWrapperStyle=(0,react.useMemo)((()=>({height:size.height,overflow:"hidden",width:stageWidth})),[size.height,stageWidth]),gridWrapperStyle=(0,react.useMemo)((()=>({...timelineCommonStyle,left:hideResources?0:resources.Oc+1,overflow:"auto",position:"absolute",top:0,width:hideResources?"100%":`calc(100% - ${resources.Oc}px)`})),[hideResources,timelineCommonStyle]);return(0,jsx_runtime.jsxs)("div",{style:timelineWrapperStyle,children:[!hideResources&&(0,jsx_runtime.jsx)("div",{style:resourcesStageWrapperStyle,children:(0,jsx_runtime.jsx)(ReactKonva.Hf,{height:size.height,width:resources.Oc,children:(0,jsx_runtime.jsx)(ResourcesLayer.Z,{})})}),(0,jsx_runtime.jsx)("div",{ref:wrapper,style:gridWrapperStyle,children:(0,jsx_runtime.jsx)("div",{style:gridStageWrapperStyle,children:(0,jsx_runtime.jsxs)(ReactKonva.Hf,{ref:stageRef,height:size.height,width:size.width,children:[(0,jsx_runtime.jsx)(_components_GridLayer,{columnWidth,height:size.height,width:stageWidth}),(0,jsx_runtime.jsx)(TasksLayer.Z,{})]})})})]})};Timeline_Timeline.displayName="Timeline";const _components_Timeline=Timeline_Timeline;try{Timeline_Timeline.displayName="Timeline",Timeline_Timeline.__docgenInfo={description:"",displayName:"Timeline",props:{columnWidth:{defaultValue:null,description:"Custom column width (defaults to 60px)",name:"columnWidth",required:!1,type:{name:"number"}},hideResources:{defaultValue:null,description:"Flag to hide resource column (defaults to false)",name:"hideResources",required:!1,type:{name:"boolean"}},resolution:{defaultValue:null,description:"Resolution to display data in konva-timeline",name:"resolution",required:!0,type:{name:"enum",value:[{value:'"1min"'},{value:'"5min"'},{value:'"10min"'},{value:'"15min"'},{value:'"30min"'},{value:'"1hrs"'},{value:'"2hrs"'},{value:'"6hrs"'},{value:'"12hrs"'},{value:'"1day"'},{value:'"1week"'},{value:'"2weeks"'}]}},tasks:{defaultValue:null,description:"List of tasks to be displayed",name:"tasks",required:!0,type:{name:"TaskData[]"}},range:{defaultValue:null,description:"Time range to be displayed",name:"range",required:!0,type:{name:"TimeRange"}},resources:{defaultValue:null,description:"List of resources to be displayed",name:"resources",required:!0,type:{name:"Resource[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/@components/Timeline/index.tsx#Timeline"]={docgenInfo:Timeline_Timeline.__docgenInfo,name:"Timeline",path:"src/@components/Timeline/index.tsx#Timeline"})}catch(__react_docgen_typescript_loader_error){}const KonvaTimeline=props=>(0,jsx_runtime.jsx)(Timeline.w,{...props,children:(0,jsx_runtime.jsx)(_components_Timeline,{...props})});KonvaTimeline.displayName="KonvaTimeline";const src_KonvaTimeline=KonvaTimeline;try{KonvaTimeline.displayName="KonvaTimeline",KonvaTimeline.__docgenInfo={description:"",displayName:"KonvaTimeline",props:{debug:{defaultValue:null,description:"Flag to enable debug mode logging",name:"debug",required:!1,type:{name:"boolean"}},columnWidth:{defaultValue:null,description:"Custom column width (defaults to 60px)",name:"columnWidth",required:!1,type:{name:"number"}},hideResources:{defaultValue:null,description:"Flag to hide resource column (defaults to false)",name:"hideResources",required:!1,type:{name:"boolean"}},resolution:{defaultValue:null,description:"Resolution to display data in konva-timeline",name:"resolution",required:!0,type:{name:"enum",value:[{value:'"1min"'},{value:'"5min"'},{value:'"10min"'},{value:'"15min"'},{value:'"30min"'},{value:'"1hrs"'},{value:'"2hrs"'},{value:'"6hrs"'},{value:'"12hrs"'},{value:'"1day"'},{value:'"1week"'},{value:'"2weeks"'}]}},tasks:{defaultValue:null,description:"List of tasks to be displayed",name:"tasks",required:!0,type:{name:"TaskData[]"}},range:{defaultValue:null,description:"Time range to be displayed",name:"range",required:!0,type:{name:"TimeRange"}},resources:{defaultValue:null,description:"List of resources to be displayed",name:"resources",required:!0,type:{name:"Resource[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/KonvaTimeline/index.tsx#KonvaTimeline"]={docgenInfo:KonvaTimeline.__docgenInfo,name:"KonvaTimeline",path:"src/KonvaTimeline/index.tsx#KonvaTimeline"})}catch(__react_docgen_typescript_loader_error){}},"./src/KonvaTimeline/stories-data.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{bm:()=>generateStoryData});const TIME_RANGE_START_DATE=new Date("2019-12-31T23:00:00.000Z"),generateStoryData=({averageTaskDurationInMinutes,resourcesCount,tasksCount,timeRangeInDays})=>{const resources=(count=>{const resources=[];for(let i=1;i<=count;i++)resources.push({id:`${i}`,label:`Resource #${i}`,color:`#${Math.floor(16777215*Math.random()).toString(16)}`});return resources})(resourcesCount),tasks=((count,avgDurationInMinutes,resourcesCount)=>{const tasks=[];for(let i=1;i<=count;i++){const resourceId=`${Math.floor(Math.random()*resourcesCount)+1}`,lastTaskForResource=tasks.reverse().find((task=>task.resourceId===resourceId));let start=TIME_RANGE_START_DATE.valueOf();lastTaskForResource&&(start=lastTaskForResource.time.end+Math.floor(avgDurationInMinutes/2)+60*Math.floor(Math.random()*(2*avgDurationInMinutes))*1e3);const end=start+60*Math.floor(Math.random()*(2*avgDurationInMinutes))*1e3;tasks.push({id:`${i}`,resourceId,label:`Task #${i}`,time:{start,end}})}return tasks})(tasksCount,averageTaskDurationInMinutes,resourcesCount);var durationInDays;return{resources,tasks,range:(durationInDays=timeRangeInDays,{start:TIME_RANGE_START_DATE.valueOf(),end:TIME_RANGE_START_DATE.setDate(TIME_RANGE_START_DATE.getDate()+durationInDays).valueOf()})}}}}]);